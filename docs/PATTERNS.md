# –®–∞–±–ª–æ–Ω—ã –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ Telegram Bot Starter Kit

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ —à–∞–±–ª–æ–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ Telegram Bot Starter Kit. –ü–æ–Ω–∏–º–∞–Ω–∏–µ —ç—Ç–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –±–æ—Ç –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥

–°—Ç–∞—Ä—Ç–µ—Ä-–∫–∏—Ç –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é, –∫–æ—Ç–æ—Ä—ã–π —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—é —á–∏—Å—Ç–æ–≥–æ, –º–æ–¥—É–ª—å–Ω–æ–≥–æ –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–≥–æ –∫–æ–¥–∞.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** - —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ:

   - –ù–µ –∏–º–µ—é—Ç –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
   - –í–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ù–µ –º–µ–Ω—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã

2. **–ù–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å (Immutability)** - –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö

3. **–ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π** - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø—É—Ç–µ–º –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö

### –ü—Ä–∏–º–µ—Ä—ã –≤ –∫–æ–¥–µ

```typescript
// –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é —á–∏—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
export function validateWithSchema<T>(
  schema: z.ZodType<T>,
  data: unknown
): T | null {
  try {
    return schema.parse(data);
  } catch (error) {
    return null;
  }
}

// –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π
export function validateUser(data: unknown) {
  return validateWithSchema(UserSchema, data);
}

// –†–∞–±–æ—Ç–∞ —Å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
function updateUserSettings(
  settings: UserSettings,
  updates: Partial<UserSettings>
): UserSettings {
  return {
    ...settings, // –ö–æ–ø–∏—Ä—É–µ–º –∏—Å—Ö–æ–¥–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    ...updates, // –ü—Ä–∏–º–µ–Ω—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    updated_at: new Date().toISOString(), // –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–∫—É –≤—Ä–µ–º–µ–Ω–∏
  };
}
```

## –ü–∞—Ç—Ç–µ—Ä–Ω "–ê–¥–∞–ø—Ç–µ—Ä"

–°—Ç–∞—Ä—Ç–µ—Ä-–∫–∏—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω "–ê–¥–∞–ø—Ç–µ—Ä" –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≥–∏–±–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É –¥–∞–Ω–Ω—ã—Ö.

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å StorageAdapter

```typescript
export interface StorageAdapter {
  initialize(): Promise<void>;
  close(): Promise<void>;

  // –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
  getUserByTelegramId(telegramId: number): Promise<User | null>;
  createUser(userData: Partial<User>): Promise<User | null>;
  updateUser(telegramId: number, userData: Partial<User>): Promise<User | null>;

  // –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  getUserSettings(userId: string): Promise<UserSettings | null>;
  createUserSettings(
    userId: string,
    settings?: Partial<UserSettings>
  ): Promise<UserSettings | null>;
  updateUserSettings(
    userId: string,
    settings: Partial<UserSettings>
  ): Promise<UserSettings | null>;

  // –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ —Å—Ü–µ–Ω
  saveSceneState(userId: string, sceneId: string, state: any): Promise<boolean>;
  getSceneState(userId: string, sceneId: string): Promise<any>;
  deleteSceneState(userId: string, sceneId: string): Promise<boolean>;

  // –ú–µ—Ç–æ–¥—ã –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
  logActivity(
    userId: string,
    activityData: Partial<ActivityLog>
  ): Promise<ActivityLog | null>;
  getUserActivity(userId: string, limit?: number): Promise<ActivityLog[]>;

  // –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  getNotificationSettings(userId: string): Promise<NotificationSettings | null>;
  createNotificationSettings(
    userId: string,
    settings?: Partial<NotificationSettings>
  ): Promise<NotificationSettings | null>;
  updateNotificationSettings(
    userId: string,
    settings: Partial<NotificationSettings>
  ): Promise<NotificationSettings | null>;
}
```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–¥–∞–ø—Ç–µ—Ä–∞

```typescript
// MemoryAdapter - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏
export class MemoryAdapter implements StorageAdapter {
  private users: Map<number, User> = new Map();
  private userSettings: Map<string, UserSettings> = new Map();
  // ...

  async getUserByTelegramId(telegramId: number): Promise<User | null> {
    return this.users.get(telegramId) || null;
  }

  // –î—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã...
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥—Ä—É–≥–æ–≥–æ –∞–¥–∞–ø—Ç–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è PostgreSQL)
export class PostgresAdapter implements StorageAdapter {
  private client: any;

  constructor(connectionString: string) {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ PostgreSQL
  }

  // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤...
}
```

## –ü–∞—Ç—Ç–µ—Ä–Ω "–§–∞–±—Ä–∏–∫–∞"

–§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –∏—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.

### –ü—Ä–∏–º–µ—Ä: –°–æ–∑–¥–∞–Ω–∏–µ Wizard-—Å—Ü–µ–Ω—ã

```typescript
// –§—É–Ω–∫—Ü–∏—è-—Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Wizard-—Å—Ü–µ–Ω—ã
export function createExampleWizardScene(): Scenes.WizardScene<BaseBotContext> {
  // –°–æ–∑–¥–∞–µ–º —Å—Ü–µ–Ω—É —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ —à–∞–≥–æ–≤
  const scene = new Scenes.WizardScene(
    "example_wizard",
    handleWelcomeStep,
    handleNameStep,
    handleAgeStep
  );

  // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
  scene.action("cancel", handleCancelAction);
  scene.action("confirm", handleConfirmAction);

  return scene;
}
```

## –ü–∞—Ç—Ç–µ—Ä–Ω "Middleware"

Middleware –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –≥–¥–µ –∫–∞–∂–¥—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å –∏–ª–∏ –æ—Ç–≤–µ—Ç.

### –ü—Ä–∏–º–µ—Ä: –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫

```typescript
// Middleware –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
export function errorHandler(): Middleware<BaseBotContext> {
  return async (ctx, next) => {
    try {
      await next();
    } catch (error) {
      logger.error("Bot error occurred", {
        error: error instanceof Error ? error.message : String(error),
        type: LogType.ERROR,
        user_id: ctx.from?.id,
      });

      await ctx.reply(
        "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É."
      );
    }
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –±–æ—Ç–µ
bot.use(errorHandler());
```

## –ü–∞—Ç—Ç–µ—Ä–Ω "–ö–æ–º–∞–Ω–¥–∞"

–ü–∞—Ç—Ç–µ—Ä–Ω "–ö–æ–º–∞–Ω–¥–∞" –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –∫–∞–∫ –æ–±—ä–µ–∫—Ç–∞.

### –ü—Ä–∏–º–µ—Ä: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥

```typescript
// –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥
export const handleStartCommand = async (
  ctx: BaseBotContext
): Promise<void> => {
  await ctx.reply("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –Ø –±–æ—Ç –¥–ª—è...");
};

export const handleHelpCommand = async (ctx: BaseBotContext): Promise<void> => {
  await ctx.reply(
    "–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n/start - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É\n/help - –°–ø—Ä–∞–≤–∫–∞"
  );
};

// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ –≤ –±–æ—Ç–µ
export function registerCommands(bot: Telegraf<BaseBotContext>): void {
  bot.command("start", handleStartCommand);
  bot.command("help", handleHelpCommand);
}
```

## –ü–∞—Ç—Ç–µ—Ä–Ω "–ö–æ–º–ø–æ–∑–∏—Ü–∏—è"

–ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –æ–±—ä–µ–¥–∏–Ω—è—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ.

### –ü—Ä–∏–º–µ—Ä: –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

```typescript
// –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
const fetchData = async (url: string) => {
  const response = await fetch(url);
  return response.json();
};

// –§—É–Ω–∫—Ü–∏–∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏
const filterActiveUsers = (users: User[]) =>
  users.filter((user) => user.is_active);
const sortByName = (users: User[]) =>
  [...users].sort((a, b) => a.name.localeCompare(b.name));
const limitResults = (limit: number) => (users: User[]) =>
  users.slice(0, limit);

// –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π
export const getTopActiveUsers = async (url: string, limit: number = 10) => {
  const users = await fetchData(url);
  return compose(filterActiveUsers, sortByName, limitResults(limit))(users);
};

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏
function compose<T>(...fns: Array<(arg: T) => T>) {
  return (x: T) => fns.reduce((acc, fn) => fn(acc), x);
}
```

## –ü–∞—Ç—Ç–µ—Ä–Ω "–í–∞–ª–∏–¥–∞—Ç–æ—Ä"

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Zod –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

### –ü—Ä–∏–º–µ—Ä: –°—Ö–µ–º—ã –∏ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã

```typescript
// –°—Ö–µ–º–∞ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
export const UserSchema = z.object({
  id: z.string().uuid().optional(),
  telegram_id: z.number(),
  username: z.string().optional(),
  first_name: z.string().optional(),
  last_name: z.string().optional(),
  created_at: z.string().datetime().optional(),
  updated_at: z.string().datetime().optional(),
});

// –§—É–Ω–∫—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
export function validateUser(data: unknown) {
  try {
    return UserSchema.parse(data);
  } catch (error) {
    return null;
  }
}
```

## –ü–∞—Ç—Ç–µ—Ä–Ω "Builder" –¥–ª—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ "Builder" –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä Telegram.

### –ü—Ä–∏–º–µ—Ä: –°–æ–∑–¥–∞–Ω–∏–µ Inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

```typescript
// –§—É–Ω–∫—Ü–∏—è-—Å—Ç—Ä–æ–∏—Ç–µ–ª—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
export function createMainMenuKeyboard() {
  return Markup.inlineKeyboard([
    [Markup.button.callback("üìä –ü—Ä–æ—Ñ–∏–ª—å", "profile")],
    [Markup.button.callback("‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏", "settings")],
    [Markup.button.callback("‚ùì –ü–æ–º–æ—â—å", "help")],
  ]);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –±–æ—Ç–µ
bot.command("menu", async (ctx) => {
  await ctx.reply("–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:", createMainMenuKeyboard());
});
```

## –ü–∞—Ç—Ç–µ—Ä–Ω "–ò–Ω–≤–µ—Ä—Å–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π" (DI)

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≥–∏–±–∫–æ—Å—Ç–∏ –∫–æ–¥–∞.

### –ü—Ä–∏–º–µ—Ä: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∞–¥–∞–ø—Ç–µ—Ä–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

```typescript
import { StorageAdapter } from "./adapters/storage-adapter";
import { MemoryAdapter } from "./adapters/memory-adapter";
import { createContainer, asValue, asClass } from "awilix";

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ DI
export function createDIContainer(config: AppConfig) {
  const container = createContainer();

  // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
  container.register({
    config: asValue(config),
    storage: asClass(MemoryAdapter).singleton(),
    // –î—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã...
  });

  return container;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –±–æ—Ç–µ
const container = createDIContainer(config);
const storage = container.resolve<StorageAdapter>("storage");

// –ü–µ—Ä–µ–¥–∞—á–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–æ—Ç–∞
bot.use((ctx, next) => {
  ctx.storage = storage;
  return next();
});
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏ —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —á–∏—Å—Ç—ã–π, –º–æ–¥—É–ª—å–Ω—ã–π –∏ –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–¥. –ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ Telegram Bot Starter Kit —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —ç—Ç–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–≥–æ —Å—Ç–∏–ª—è –∫–æ–¥–∞.
