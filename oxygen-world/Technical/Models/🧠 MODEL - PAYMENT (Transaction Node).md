---
title: "üß† MODEL - PAYMENT (Transaction Node)"
table_name: "payment"
model_type: "transaction_node"
layer: "financial"
connections: 4
tags: [model, payment, transaction_node, financial_layer]
---

# üí∞ PAYMENT (Transaction Node)
## –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π –£–∑–µ–ª –§–∏–Ω–∞–Ω—Å–æ–≤–æ–π –°–∏—Å—Ç–µ–º—ã

[[Technical/README|‚Üê –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è]]

## üß† **–†–æ–ª—å –≤ "–í—Ç–æ—Ä–æ–º –ú–æ–∑–≥–µ"**

**PAYMENT** - —ç—Ç–æ **—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π —É–∑–µ–ª**, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–æ–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ —Å–ª–æ—è —Å–∏—Å—Ç–µ–º—ã.

### üéØ **–§—É–Ω–∫—Ü–∏–∏ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –£–∑–ª–∞**
- **–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- **–°–≤—è–∑—å —Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏** - –æ–ø–ª–∞—Ç–∞ –∑–∞ —É—Å–ª—É–≥–∏
- **–ò–Ω–∏—Ü–∏–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤** - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–ë–æ–Ω—É—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** - –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –∏ —Å–ø–∏—Å–∞–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤

## üìä **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ú–æ–¥–µ–ª–∏**

### üîë **–ö–ª—é—á–µ–≤—ã–µ –ü–æ–ª—è**
```sql
- id: UUID (Primary Key)
- user_id: UUID (FK ‚Üí user.id)
- booking_id: UUID (FK ‚Üí booking.id)
- amount: NUMERIC(10,2)
- currency: VARCHAR(3)
- payment_method: ENUM (cash, card, bank_transfer, bonus_points)
- status: ENUM (pending, completed, failed, refunded)
- transaction_id: VARCHAR(255)
- payment_date: TIMESTAMP WITH TIME ZONE
- description: TEXT
```

### üîó **Foreign Key –°–≤—è–∑–∏**
- **user_id** ‚Üí [[Technical/Models/üß† MODEL - USER (Central Neuron)|üë• USER]]
- **booking_id** ‚Üí [[Technical/Models/üß† MODEL - BOOKING (Temporal Node)|üìÖ BOOKING]]

## üåê **–°–≤—è–∑–∏ –≤ –ù–µ–π—Ä–æ–Ω–Ω–æ–π –°–µ—Ç–∏**

### üîµ **–ü—Ä—è–º—ã–µ –°–≤—è–∑–∏ (4 –º–æ–¥–µ–ª–∏)**

#### üí∞ **Financial Layer**
- **ORDER** - `payment_id` (–ø–ª–∞—Ç–µ–∂ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –∑–∞–∫–∞–∑)
- **BONUS_TRANSACTION** - `related_payment_id` (–±–æ–Ω—É—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)

#### ‚öôÔ∏è **System Layer**
- **NOTIFICATION** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–ª–∞—Ç–µ–∂–∞—Ö
- **TASK** - –∑–∞–¥–∞—á–∏ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –ø–ª–∞—Ç–µ–∂–µ–π

### üîÑ **–í—Ö–æ–¥—è—â–∏–µ –°–≤—è–∑–∏**
- **USER** ‚Üí `user_id` (–∫—Ç–æ –ø–ª–∞—Ç–∏—Ç)
- **BOOKING** ‚Üí `booking_id` (–∑–∞ —á—Ç–æ –ø–ª–∞—Ç—è—Ç)

## üìà **–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

### üéØ **–ú–µ—Ç—Ä–∏–∫–∏ –ü–ª–∞—Ç–µ–∂–µ–π**
```dataview
TABLE
  amount + " " + currency as "üí∞ –°—É–º–º–∞",
  payment_method as "üí≥ –°–ø–æ—Å–æ–±",
  status as "üìä –°—Ç–∞—Ç—É—Å",
  payment_date as "üìÖ –î–∞—Ç–∞"
FROM "oxygen-world/Database"
WHERE contains(file.name, "Payment-") AND !contains(file.name, "Data")
SORT payment_date desc
```

### üìä **–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ê–Ω–∞–ª–∏—Ç–∏–∫–∞**
- **–û–±—â–∏–π –æ–±–æ—Ä–æ—Ç**: –°—É–º–º–∞ –≤—Å–µ—Ö completed –ø–ª–∞—Ç–µ–∂–µ–π
- **–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã**: Cash vs Card vs Bonus
- **–ö–æ–Ω–≤–µ—Ä—Å–∏—è**: –ü—Ä–æ—Ü–µ–Ω—Ç successful vs failed
- **–°—Ä–µ–¥–Ω–∏–π —á–µ–∫**: –°—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ amount

## üîó **–°–≤—è–∑–∞–Ω–Ω—ã–µ –î–∞–Ω–Ω—ã–µ**

### üí∞ **–í—Å–µ –ü–ª–∞—Ç–µ–∂–∏**
- [[Payments-Data|üìä Payments Data]] - –°–≤–æ–¥–∫–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç–µ–∂–µ–π

### üéØ **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ü–ª–∞—Ç–µ–∂–∏**
- [[Payment-001|üí∞ Payment 1,200 THB - Tennis Court]] - –û–ø–ª–∞—Ç–∞ –∫–æ—Ä—Ç–∞
- [[Payment-002|üí∞ Payment 800 THB - Padel Court]] - –û–ø–ª–∞—Ç–∞ –ø–∞–¥–µ–ª
- [[Payment-003|üí∞ Payment 1,500 THB - VIP Package]] - VIP –ø–∞–∫–µ—Ç

## üß† **–ù–µ–π—Ä–æ–Ω–Ω—ã–µ –ü–∞—Ç—Ç–µ—Ä–Ω—ã**

### üîÑ **–¶–∏–∫–ª—ã –§–∏–Ω–∞–Ω—Å–æ–≤–æ–π –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**
```
USER ‚Üí BOOKING ‚Üí PAYMENT ‚Üí ORDER ‚Üí BONUS_TRANSACTION ‚Üí USER
PAYMENT ‚Üí NOTIFICATION ‚Üí USER
PAYMENT ‚Üí TASK ‚Üí VENUE (–¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏)
```

### üåü **–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –≤ –ì—Ä–∞—Ñ–µ**
- **–í—Ö–æ–¥—è—â–∏–µ —Å–≤—è–∑–∏**: 2 (USER, BOOKING)
- **–ò—Å—Ö–æ–¥—è—â–∏–µ —Å–≤—è–∑–∏**: 4 –º–æ–¥–µ–ª–∏
- **–°—Ç–µ–ø–µ–Ω—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç–∏**: –í—ã—Å–æ–∫–∞—è –≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º —Å–ª–æ–µ
- **–í–ª–∏—è–Ω–∏–µ –Ω–∞ –≥—Ä–∞—Ñ**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –¥–ª—è –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏

## üéØ **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –§—É–Ω–∫—Ü–∏–∏**

### üí≥ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ü–ª–∞—Ç–µ–∂–µ–π**
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–∞
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ**: –§–∏–∫—Å–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### üîÑ **–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π –¶–∏–∫–ª**
1. **–°–æ–∑–¥–∞–Ω–∏–µ**: –ò–∑ BOOKING –∏–ª–∏ –ø—Ä—è–º–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ
2. **–û–∂–∏–¥–∞–Ω–∏–µ**: pending (–æ–∂–∏–¥–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏)
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞**: processing (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)
4. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ**: completed/failed
5. **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**: ORDER, BONUS_TRANSACTION, NOTIFICATION

### üéÅ **–ë–æ–Ω—É—Å–Ω–∞—è –°–∏—Å—Ç–µ–º–∞**
- **–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ**: BONUS_TRANSACTION –ø—Ä–∏ completed
- **–°–ø–∏—Å–∞–Ω–∏–µ**: payment_method = bonus_points
- **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è**: –ë–æ–Ω—É—Å—ã –≤ —Ä–µ–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏
- **–õ–æ—è–ª—å–Ω–æ—Å—Ç—å**: –ü—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è

## üìä **–¢–∏–ø—ã –ü–ª–∞—Ç–µ–∂–µ–π**

### üíµ **Cash (–ù–∞–ª–∏—á–Ω—ã–µ)**
- **–û–±—Ä–∞–±–æ—Ç–∫–∞**: –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**: –†—É—á–Ω–æ–µ
- **–†–∏—Å–∫–∏**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ
- **–ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è –≤ –¢–∞–∏–ª–∞–Ω–¥–µ

### üí≥ **Card (–ö–∞—Ä—Ç–∞)**
- **–û–±—Ä–∞–±–æ—Ç–∫–∞**: –ß–µ—Ä–µ–∑ –ø–ª–∞—Ç–µ–∂–Ω—ã–π —à–ª—é–∑
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ
- **–†–∏—Å–∫–∏**: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–±–æ–∏
- **–£–¥–æ–±—Å—Ç–≤–æ**: –í—ã—Å–æ–∫–æ–µ

### üè¶ **Bank Transfer (–ü–µ—Ä–µ–≤–æ–¥)**
- **–û–±—Ä–∞–±–æ—Ç–∫–∞**: 1-3 –¥–Ω—è
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**: –ü–æ –≤—ã–ø–∏—Å–∫–µ
- **–†–∏—Å–∫–∏**: –ó–∞–¥–µ—Ä–∂–∫–∏
- **–°—É–º–º—ã**: –ö—Ä—É–ø–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏

### üéÅ **Bonus Points (–ë–æ–Ω—É—Å—ã)**
- **–û–±—Ä–∞–±–æ—Ç–∫–∞**: –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –ë–∞–ª–∞–Ω—Å –±–æ–Ω—É—Å–æ–≤
- **–õ–æ—è–ª—å–Ω–æ—Å—Ç—å**: –°—Ç–∏–º—É–ª–∏—Ä—É–µ—Ç –≤–æ–∑–≤—Ä–∞—Ç—ã

## üîÑ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**

### üè¶ **–ü–ª–∞—Ç–µ–∂–Ω—ã–µ –°–∏—Å—Ç–µ–º—ã**
- **Stripe**: –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –∫–∞—Ä—Ç—ã
- **PromptPay**: –¢–∞–π—Å–∫–∏–µ QR-–ø–ª–∞—Ç–µ–∂–∏
- **Bank Transfer**: –ü—Ä—è–º—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã
- **Cash**: –¢–µ—Ä–º–∏–Ω–∞–ª—ã –∏ –∫–∞—Å—Å–∞

### üìä **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**
- **Revenue Tracking**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤
- **Payment Analytics**: –ê–Ω–∞–ª–∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã
- **Fraud Detection**: –í—ã—è–≤–ª–µ–Ω–∏–µ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞
- **Tax Reporting**: –ù–∞–ª–æ–≥–æ–≤–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å

---

*üí∞ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π –£–∑–µ–ª - –°–µ—Ä–¥—Ü–µ –§–∏–Ω–∞–Ω—Å–æ–≤–æ–π –°–∏—Å—Ç–µ–º—ã*
*üèùÔ∏è Phangan Padel Tennis Club - Financial Intelligence*
