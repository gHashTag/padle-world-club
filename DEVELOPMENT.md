# ๐ฑ Instagram Scraper Bot - ะัะบะพะฒะพะดััะฒะพ ะฟะพ ัะฐะทัะฐะฑะพัะบะต

ะญัะพ ััะบะพะฒะพะดััะฒะพ ัะพะดะตัะถะธั ะธะฝัะพัะผะฐัะธั ะพ ะฟัะพัะตััะต ะฐะฒัะพะฝะพะผะฝะพะน ัะฐะทัะฐะฑะพัะบะธ ะผะพะดัะปั Instagram Scraper Bot, ะตะณะพ ะฐััะธัะตะบัััะต ะธ ะธะฝััััะผะตะฝัะฐั, ัะพะทะดะฐะฝะฝัั ะดะปั ะพะฑะปะตะณัะตะฝะธั ัะฐะทัะฐะฑะพัะบะธ ะธ ัะตััะธัะพะฒะฐะฝะธั.

## ะะณะปะฐะฒะปะตะฝะธะต

- [ะััะธัะตะบัััะฐ ะผะพะดัะปั](#ะฐััะธัะตะบัััะฐ-ะผะพะดัะปั)
- [ะัะพัะตัั ะฐะฒัะพะฝะพะผะฝะพะน ัะฐะทัะฐะฑะพัะบะธ](#ะฟัะพัะตัั-ะฐะฒัะพะฝะพะผะฝะพะน-ัะฐะทัะฐะฑะพัะบะธ)
  - [ะะฐัััะพะนะบะฐ ััะตะดั ัะฐะทัะฐะฑะพัะบะธ](#ะฝะฐัััะพะนะบะฐ-ััะตะดั-ัะฐะทัะฐะฑะพัะบะธ)
  - [ะะพะบะฐะปัะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั SQLite](#ะปะพะบะฐะปัะฝะฐั-ะฑะฐะทะฐ-ะดะฐะฝะฝัั-sqlite)
  - [ะะพะบะธัะพะฒะฐะฝะธะต Apify API](#ะผะพะบะธัะพะฒะฐะฝะธะต-apify-api)
  - [ะะฒัะพะผะฐัะธะทะธัะพะฒะฐะฝะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต](#ะฐะฒัะพะผะฐัะธะทะธัะพะฒะฐะฝะฝะพะต-ัะตััะธัะพะฒะฐะฝะธะต)
    - [ะะฐะฟััะบ ัะตััะพะฒ](#ะทะฐะฟััะบ-ะฒัะตั-ัะตััะพะฒ)
    - [ะกัััะบัััะฐ ัะตััะพะฒ](#ััััะบัััะฐ-ัะตััะพะฒ)
    - [ะคัะตะนะผะฒะพัะบ ะดะปั ัะตััะธัะพะฒะฐะฝะธั Telegram-ััะตะฝ](#ััะตะนะผะฒะพัะบ-ะดะปั-ัะตััะธัะพะฒะฐะฝะธั-telegram-ััะตะฝ)
  - [ะะธะทัะฐะปัะฝะฐั ะฟะฐะฝะตะปั ัะฐะทัะฐะฑะพัะบะธ](#ะฒะธะทัะฐะปัะฝะฐั-ะฟะฐะฝะตะปั-ัะฐะทัะฐะฑะพัะบะธ)
- [ะะพัััะฟะฝัะต ะธะฝััััะผะตะฝัั](#ะดะพัััะฟะฝัะต-ะธะฝััััะผะตะฝัั)
- [ะกัััะบัััะฐ ะบะพะดะฐ](#ััััะบัััะฐ-ะบะพะดะฐ)
- [ะัะปะฐะดะบะฐ](#ะพัะปะฐะดะบะฐ)
- [ะงะฐััะพ ะฒะพะทะฝะธะบะฐััะธะต ะฟัะพะฑะปะตะผั](#ัะฐััะพ-ะฒะพะทะฝะธะบะฐััะธะต-ะฟัะพะฑะปะตะผั)

## ะััะธัะตะบัััะฐ ะผะพะดัะปั

Instagram Scraper Bot ะฟะพัััะพะตะฝ ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ ัะปะตะดัััะธั ะพัะฝะพะฒะฝัั ะฟัะธะฝัะธะฟะพะฒ:

1. **ะะฝะบะฐะฟััะปััะธั** - ะผะพะดัะปั ัะพะดะตัะถะธั ะฒัั ะฝะตะพะฑัะพะดะธะผัั ะฑะธะทะฝะตั-ะปะพะณะธะบั ะธ ะทะฐะฒะธัะธะผะพััะธ ะฒะฝัััะธ ัะตะฑั
2. **ะะทะพะปััะธั** - ะผะพะดัะปั ะฟัะตะดะพััะฐะฒะปัะตั ัะตัะบะธะน API ะดะปั ะฒะทะฐะธะผะพะดะตะนััะฒะธั ั ะพัะฝะพะฒะฝัะผ ะฟัะธะปะพะถะตะฝะธะตะผ
3. **ะกะปะพะธััะฐั ะฐััะธัะตะบัััะฐ**:
   - ะกะปะพะน ะธะฝัะตััะตะนัะฐ ะฟะพะปัะทะพะฒะฐัะตะปั (Telegraf ััะตะฝั)
   - ะกะปะพะน ะฑะธะทะฝะตั-ะปะพะณะธะบะธ (ะพะฑัะฐะฑะพัะบะฐ ะบะพะผะฐะฝะด, ัะฟัะฐะฒะปะตะฝะธะต ะฟัะพะตะบัะฐะผะธ)
   - ะกะปะพะน ะดะฐะฝะฝัั (ะฐะดะฐะฟัะตัั ััะฐะฝะธะปะธัะฐ)
   - ะกะปะพะน ะฒะฝะตัะฝะธั ะธะฝัะตะณัะฐัะธะน (Apify API)

### ะะธะฐะณัะฐะผะผะฐ ะบะพะผะฟะพะฝะตะฝัะพะฒ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                 Instagram Scraper Bot Module                 โ
โ                                                              โ
โ  โโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ  Scenes โโโโโถโ Controllers โโโโโถโ Storage Adapters  โ    โ
โ  โโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโโ    โ
โ       โ                                      โ               โ
โ       โ                                      โ               โ
โ       โผ                                      โผ               โ
โ  โโโโโโโโโโโ                        โโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ   API   โโโโโโโโโโโโโโโโโโโโโโโโถ โ External Services โ   โ
โ  โโโโโโโโโโโ                        โโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ะัะพัะตัั ะฐะฒัะพะฝะพะผะฝะพะน ัะฐะทัะฐะฑะพัะบะธ

### ะะฐัััะพะนะบะฐ ััะตะดั ัะฐะทัะฐะฑะพัะบะธ

1. **ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั**

```bash
git clone <repo-url>
cd <repo-directory>
```

2. **ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน**

```bash
bun install
```

3. **ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั**

ะกะพะทะดะฐะนัะต ัะฐะนะป `.env` ะฒ ะดะธัะตะบัะพัะธะธ ะผะพะดัะปั:

```env
# ะะปั ะฐะฒัะพะฝะพะผะฝะพะน ัะฐะทัะฐะฑะพัะบะธ
NEON_DATABASE_URL=sqlite:///.dev/sqlite.db
APIFY_TOKEN=mock_apify_token_for_testing
MIN_VIEWS=50000
MAX_AGE_DAYS=14
TEST_MODE=true
```

### ะะพะบะฐะปัะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั SQLite

ะะพะดัะปั ะฟะพะดะดะตัะถะธะฒะฐะตั ัะฐะฑะพัั ั SQLite ะฒะผะตััะพ ัะดะฐะปะตะฝะฝะพะน ะฑะฐะทั ะดะฐะฝะฝัั Neon, ััะพ ะทะฝะฐัะธัะตะปัะฝะพ ััะบะพััะตั ัะฐะทัะฐะฑะพัะบั ะธ ัะตััะธัะพะฒะฐะฝะธะต.

#### ะะฝะธัะธะฐะปะธะทะฐัะธั ะฑะฐะทั ะดะฐะฝะฝัั

```bash
# ะกะพะทะดะฐะฝะธะต ะธ ะธะฝะธัะธะฐะปะธะทะฐัะธั ะฑะฐะทั ะดะฐะฝะฝัั ั ัะตััะพะฒัะผะธ ะดะฐะฝะฝัะผะธ
bun run scripts/init-dev-db.ts

# ะกะฑัะพั ะธ ะฟะพะฒัะพัะฝะฐั ะธะฝะธัะธะฐะปะธะทะฐัะธั
RESET_DB=true bun run scripts/init-dev-db.ts
```

#### ะกัััะบัััะฐ ะฑะฐะทั ะดะฐะฝะฝัั

SQLite ะฑะฐะทะฐ ะดะฐะฝะฝัั ัะพะดะตัะถะธั ัะปะตะดัััะธะต ัะฐะฑะปะธัั:

- `Users` - ะฟะพะปัะทะพะฒะฐัะตะปะธ Telegram
- `Projects` - ะฟัะพะตะบัั ะดะปั ะพััะปะตะถะธะฒะฐะฝะธั ะบะพะฝะบััะตะฝัะพะฒ
- `Competitors` - ะฐะบะบะฐัะฝัั ะบะพะฝะบััะตะฝัะพะฒ Instagram
- `Hashtags` - ะพััะปะตะถะธะฒะฐะตะผัะต ััััะตะณะธ
- `ReelsContent` - ะดะฐะฝะฝัะต ะพ ัะฟะฐััะตะฝะฝัั Instagram Reels

#### ะขะตััะพะฒัะต ะดะฐะฝะฝัะต

ะะฐะทะฐ ะดะฐะฝะฝัั ะธะฝะธัะธะฐะปะธะทะธััะตััั ัะพ ัะปะตะดัััะธะผะธ ัะตััะพะฒัะผะธ ะดะฐะฝะฝัะผะธ:

- ะขะตััะพะฒัะน ะฟะพะปัะทะพะฒะฐัะตะปั ั Telegram ID 123456789
- ะขะตััะพะฒัะน ะฟัะพะตะบั "ะญััะตัะธัะตัะบะฐั ะบะพัะผะตัะพะปะพะณะธั"
- ะะตัะบะพะปัะบะพ ัะตััะพะฒัั ะบะพะฝะบััะตะฝัะพะฒ ะธ ััััะตะณะพะฒ
- ะขะตััะพะฒัะต Reels ั ัะฐะทะฝัะผะธ ะฟะฐัะฐะผะตััะฐะผะธ

#### ะะดะฐะฟัะตั SQLite

ะะพะดัะปั ัะพะดะตัะถะธั ัะฟะตัะธะฐะปัะฝัะน ะฐะดะฐะฟัะตั `SqliteAdapter` ะดะปั ัะฐะฑะพัั ั ะปะพะบะฐะปัะฝะพะน ะฑะฐะทะพะน ะดะฐะฝะฝัั. ะญัะพั ะฐะดะฐะฟัะตั ัะตะฐะปะธะทัะตั ัะพั ะถะต ะธะฝัะตััะตะนั, ััะพ ะธ `NeonStorageAdapter`, ะธ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะพะดะบะปััะฐะตััั ะฟัะธ ัะพะพัะฒะตัััะฒัััะตะผ ะทะฝะฐัะตะฝะธะธ ะฟะตัะตะผะตะฝะฝะพะน ะพะบััะถะตะฝะธั.

```typescript
import { SqliteAdapter } from "./adapters/sqlite-adapter"

// ะกะพะทะดะฐะฝะธะต ัะบะทะตะผะฟะปััะฐ ะฐะดะฐะฟัะตัะฐ SQLite
const storageAdapter = new SqliteAdapter()

// ะะพะดะบะปััะตะฝะธะต ะบ ะฑะฐะทะต ะดะฐะฝะฝัั
await storageAdapter.connect()

// ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฐะดะฐะฟัะตัะฐ ัะฐะบ ะถะต, ะบะฐะบ ะธ ั PostgreSQL
const projects = await storageAdapter.getProjects(userId)
```

### ะะพะบะธัะพะฒะฐะฝะธะต Apify API

ะะปั ะฐะฒัะพะฝะพะผะฝะพะน ัะฐะฑะพัั ะฑะตะท ัะตะฐะปัะฝัั ะทะฐะฟัะพัะพะฒ ะบ Apify API ะผะพะดัะปั ัะพะดะตัะถะธั ะผะพะบ-ัะตัะฒะธั.

#### ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะผะพะบ-ัะตัะฒะธัะฐ

```typescript
import { MockApifyService } from "./services/mock-apify-service"

// ะกะพะทะดะฐะฝะธะต ัะบะทะตะผะฟะปััะฐ ะผะพะบ-ัะตัะฒะธัะฐ
const scraperService = new MockApifyService()

// ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฐะฝะฐะปะพะณะธัะฝะพ ัะตะฐะปัะฝะพะผั ัะตัะฒะธัั
const reels = await scraperService.getReelsFromAccount("beauty_clinic", {
  maxResults: 10,
  minViews: 50000,
})
```

#### ะกัััะบัััะฐ ะผะพะบะพะฒัั ะดะฐะฝะฝัั

ะะพะบ-ัะตัะฒะธั ะฒะพะทะฒัะฐัะฐะตั ะฟัะตะดะพะฟัะตะดะตะปะตะฝะฝัะต ะดะฐะฝะฝัะต ะดะปั ะฝะตัะบะพะปัะบะธั ััะตะฝะฐัะธะตะฒ:

- ะะฐะฝะฝัะต ะดะปั ะฐะบะบะฐัะฝัะพะฒ `beauty_clinic`, `luxury_beauty` ะธ ั.ะด.
- ะะฐะฝะฝัะต ะดะปั ััััะตะณะพะฒ `ะบัะฐัะพัะฐ`, `ะบะพัะผะตัะพะปะพะณะธั` ะธ ั.ะด.

### ะะฒัะพะผะฐัะธะทะธัะพะฒะฐะฝะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต

ะะพะดัะปั ะฟะพะดะดะตัะถะธะฒะฐะตั ะฝะตัะบะพะปัะบะพ ัะธะฟะพะฒ ัะตััะพะฒ:

#### ะะฐะฟััะบ ะฒัะตั ัะตััะพะฒ

```bash
# ะะฐะฟััะบ ะฒัะตั ัะตััะพะฒ ะผะพะดัะปั
bun run scripts/build-and-test.sh
```

#### ะะฐะฟััะบ ะธะฝัะตะณัะฐัะธะพะฝะฝัั ัะตััะพะฒ

```bash
# ะะฐะฟััะบ ัะพะปัะบะพ ะธะฝัะตะณัะฐัะธะพะฝะฝัั ัะตััะพะฒ ั ะผะพะบะฐะผะธ
bash scripts/test-integration.sh
```

#### ะะฐะฟััะบ ัะตััะพะฒ ะดะปั Telegram-ััะตะฝ

```bash
# ะะฐะฟััะบ ัะตััะพะฒ ะดะปั Telegram-ััะตะฝ
bash scripts/test-telegram-scenes.sh
```

#### ะกัััะบัััะฐ ัะตััะพะฒ

- `__tests__/unit/` - ะผะพะดัะปัะฝัะต ัะตััั ะพัะดะตะปัะฝัั ะบะพะผะฟะพะฝะตะฝัะพะฒ
  - `__tests__/unit/adapters/` - ัะตััั ะดะปั ะฐะดะฐะฟัะตัะพะฒ ััะฐะฝะธะปะธัะฐ
  - `__tests__/unit/scenes/` - ัะตััั ะดะปั Telegram-ััะตะฝ
  - `__tests__/unit/utils/` - ัะตััั ะดะปั ััะธะปะธั
- `__tests__/integration/` - ะธะฝัะตะณัะฐัะธะพะฝะฝัะต ัะตััั ะฒะทะฐะธะผะพะดะตะนััะฒะธั ะบะพะผะฟะพะฝะตะฝัะพะฒ
- `__tests__/mocks/` - ะผะพะบ-ัะตัะฒะธัั ะดะปั ัะตััะธัะพะฒะฐะฝะธั
- `__tests__/helpers/` - ะฒัะฟะพะผะพะณะฐัะตะปัะฝัะต ะธะฝััััะผะตะฝัั ะดะปั ัะตััะธัะพะฒะฐะฝะธั
  - `__tests__/helpers/telegram/` - ััะตะนะผะฒะพัะบ ะดะปั ัะตััะธัะพะฒะฐะฝะธั Telegram-ััะตะฝ

#### ะคัะตะนะผะฒะพัะบ ะดะปั ัะตััะธัะพะฒะฐะฝะธั Telegram-ััะตะฝ

ะะปั ัะตััะธัะพะฒะฐะฝะธั Telegram-ััะตะฝ ะฒ ะฟัะพะตะบัะต ัะฐะทัะฐะฑะพัะฐะฝ ัะฟะตัะธะฐะปัะฝัะน ััะตะนะผะฒะพัะบ, ะบะพัะพััะน ัะฟัะพัะฐะตั ัะพะทะดะฐะฝะธะต ะธ ะฟะพะดะดะตัะถะบั ัะตััะพะฒ. ะคัะตะนะผะฒะพัะบ ะฟัะตะดะพััะฐะฒะปัะตั ะธะฝััััะผะตะฝัั ะดะปั ัะพะทะดะฐะฝะธั ะผะพะบะพะฒ, ัะตััะธัะพะฒะฐะฝะธั ะพะฑัะฐะฑะพััะธะบะพะฒ ะธ ะฟัะพะฒะตัะบะธ ัะพััะพัะฝะธั ััะตะฝั.

ะะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะฟะพ ััะตะนะผะฒะพัะบั ะดะพัััะฟะฝะฐ ะฒ ัะปะตะดัััะธั ัะฐะนะปะฐั:

- [ะะฑัะฐั ะดะพะบัะผะตะฝัะฐัะธั ะฟะพ ัะตััะธัะพะฒะฐะฝะธั](./src/__tests__/README.md) - ััััะบัััะฐ ัะตััะพะฒ, ะธะฝััััะผะตะฝัั, ะบะพะผะฐะฝะดั ะธ ะฟะฐััะตัะฝั
- [ะะฐััะตัะฝั ัะตััะธัะพะฒะฐะฝะธั Telegram-ััะตะฝ](./src/__tests__/TESTING_PATTERNS.md) - ะฟะพะดัะพะฑะฝะพะต ะพะฟะธัะฐะฝะธะต ะฟะฐััะตัะฝะพะฒ ัะตััะธัะพะฒะฐะฝะธั ััะตะฝ
- [ะคัะตะนะผะฒะพัะบ ะดะปั ัะตััะธัะพะฒะฐะฝะธั Telegram-ััะตะฝ](./src/__tests__/helpers/telegram/README.md) - ะดะพะบัะผะตะฝัะฐัะธั ะฟะพ ััะตะนะผะฒะพัะบั ะดะปั ัะตััะธัะพะฒะฐะฝะธั ััะตะฝ
- [ะะฐััะตัะฝั ะดะปั Wizard-ััะตะฝ](./docs/WIZARD_SCENE_PATTERNS.md) - ะฟะพะดัะพะฑะฝะพะต ะพะฟะธัะฐะฝะธะต ะฟะฐััะตัะฝะพะฒ ะดะปั ัะพะทะดะฐะฝะธั ะธ ะฟะพะดะดะตัะถะบะธ Wizard-ััะตะฝ
- [ะััะธัะตะบัััะฐ Wizard-ััะตะฝ](./docs/WIZARD_SCENE_ARCHITECTURE.md) - ะพะฟะธัะฐะฝะธะต ะฐััะธัะตะบัััั Wizard-ััะตะฝ ะฟะพัะปะต ัะตัะฐะบัะพัะธะฝะณะฐ
- [ะััะพัะธั ััะฟะตัะฐ ั Wizard-ััะตะฝะฐะผะธ](./docs/SUCCESS_HISTORY_WIZARD_SCENES.md) - ะฟัะธะผะตัั ัะตัะตะฝะธั ะบะพะฝะบัะตัะฝัั ะฟัะพะฑะปะตะผ ั Wizard-ััะตะฝะฐะผะธ
- [ะงะตะบ-ะปะธัั ะดะปั ัะตัะฐะบัะพัะธะฝะณะฐ Wizard-ััะตะฝ](./docs/WIZARD_SCENE_REFACTORING_CHECKLIST.md) - ะฟะพัะฐะณะพะฒัะน ัะตะบ-ะปะธัั ะดะปั ัะตัะฐะบัะพัะธะฝะณะฐ ัััะตััะฒัััะธั Wizard-ััะตะฝ

#### ะัะธะผะตั ัะตััะฐ ะดะปั Telegram-ััะตะฝั

```typescript
import { describe, it, expect, beforeEach } from "bun:test";
import { SceneTester, generateEnterHandlerTests } from "../../helpers/telegram";
import { ProjectScene } from "../../../scenes/project-scene";

describe("ProjectScene - Enter Handler", () => {
  // ะกะพะทะดะฐะตะผ ัะตััะตั ััะตะฝั
  const sceneTester = new SceneTester({
    sceneName: "ProjectScene",
    sceneFilePath: "../../../scenes/project-scene",
    sceneConstructor: ProjectScene
  });

  // ะะตะฝะตัะธััะตะผ ัะตััั ะดะปั ะพะฑัะฐะฑะพััะธะบะฐ ะฒัะพะดะฐ ะฒ ััะตะฝั
  generateEnterHandlerTests(sceneTester);
});
```

#### ะัะธะผะตั ะธะฝัะตะณัะฐัะธะพะฝะฝะพะณะพ ัะตััะฐ

```typescript
import { describe, it, expect, beforeAll, afterAll } from "bun:test"
import { SqliteAdapter } from "../../adapters/sqlite-adapter"
import fs from "fs"
import path from "path"
import { fileURLToPath } from "url"

const __filename = fileURLToPath(import.meta.url)
const __dirname = path.dirname(__filename)
const dbPath =
  process.env.SQLITE_DB_PATH ||
  path.resolve(__dirname, "../../.dev/test-sqlite.db")

describe("SQLite Adapter - ะะฝัะตะณัะฐัะธะพะฝะฝัะน ัะตัั", () => {
  let adapter: SqliteAdapter

  beforeAll(async () => {
    // ะัะพะฒะตััะตะผ, ััะพ ัะตััะพะฒะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั ัััะตััะฒัะตั
    expect(fs.existsSync(dbPath)).toBe(true)

    // ะะฝะธัะธะฐะปะธะทะธััะตะผ ะฐะดะฐะฟัะตั
    adapter = new SqliteAdapter({ dbPath })
    await adapter.connect()
  })

  afterAll(async () => {
    // ะะฐะบััะฒะฐะตะผ ัะพะตะดะธะฝะตะฝะธะต ั ะฑะฐะทะพะน ะดะฐะฝะฝัั
    await adapter.disconnect()
  })

  it("ะดะพะปะถะตะฝ ะฟะพะปััะฐัั ัะฟะธัะพะบ ะฟัะพะตะบัะพะฒ", async () => {
    const projects = await adapter.getProjects(1) // ID ะฟะพะปัะทะพะฒะฐัะตะปั
    expect(Array.isArray(projects)).toBe(true)
    expect(projects.length).toBeGreaterThan(0)
  })
})
```

### ะะธะทัะฐะปัะฝะฐั ะฟะฐะฝะตะปั ัะฐะทัะฐะฑะพัะบะธ

ะะปั ัะดะพะฑััะฒะฐ ัะฐะทัะฐะฑะพัะบะธ ัะพะทะดะฐะฝะฐ ะฒะธะทัะฐะปัะฝะฐั ะฒะตะฑ-ะฟะฐะฝะตะปั, ะบะพัะพัะฐั ะฟะพะทะฒะพะปัะตั ัะฟัะฐะฒะปััั ะฟัะพัะตััะพะผ ัะฐะทัะฐะฑะพัะบะธ ะธ ัะตััะธัะพะฒะฐะฝะธั.

```bash
# ะะฐะฟััะบ ะฒะตะฑ-ะธะฝัะตััะตะนัะฐ ัะฐะทัะฐะฑะพัะบะธ
bun run scripts/dev-dashboard.ts
```

ะะตะฑ-ะฟะฐะฝะตะปั ะดะพัััะฟะฝะฐ ะฟะพ ะฐะดัะตัั: http://localhost:3456 ะธ ะฟัะตะดะพััะฐะฒะปัะตั ัะปะตะดัััะธะต ััะฝะบัะธะธ:

- ะัะพัะผะพัั ััะฐัััะฐ ัะธััะตะผั
- ะฃะฟัะฐะฒะปะตะฝะธะต ะฑะฐะทะพะน ะดะฐะฝะฝัั
- ะะตะฝะตัะฐัะธั ัะตััะพะฒัั ะดะฐะฝะฝัั
- ะะฐะฟััะบ ัะตััะพะฒ
- ะัะพัะผะพัั ะปะพะณะพะฒ

## ะะพัััะฟะฝัะต ะธะฝััััะผะตะฝัั

### ะกะบัะธะฟัั

- `init-dev-db.ts` - ะะฝะธัะธะฐะปะธะทะฐัะธั ะฑะฐะทั ะดะฐะฝะฝัั SQLite
- `dev-dashboard.ts` - ะะฐะฟััะบ ะฟะฐะฝะตะปะธ ัะฐะทัะฐะฑะพัะบะธ
- `build-and-test.sh` - ะกะฑะพัะบะฐ ะธ ัะตััะธัะพะฒะฐะฝะธะต ะผะพะดัะปั
- `test-integration.sh` - ะะฐะฟััะบ ะธะฝัะตะณัะฐัะธะพะฝะฝัั ัะตััะพะฒ
- `test-telegram-scenes.sh` - ะะฐะฟััะบ ัะตััะพะฒ ะดะปั Telegram-ััะตะฝ
- `generate-telegram-tests.ts` - ะะตะฝะตัะฐัะธั ัะตััะพะฒ ะดะปั Telegram-ััะตะฝ

### ะะดะฐะฟัะตัั ะธ ัะตัะฒะธัั

- `SqliteAdapter` - ะะดะฐะฟัะตั ะดะปั ัะฐะฑะพัั ั SQLite
- `MockApifyService` - ะะพะบ-ัะตัะฒะธั ะดะปั Apify API

### ะะฝััััะผะตะฝัั ะดะปั ัะตััะธัะพะฒะฐะฝะธั

- `SceneTester` - ะะปะฐัั ะดะปั ัะตััะธัะพะฒะฐะฝะธั Telegram-ััะตะฝ
- `SceneSequenceTester` - ะะปะฐัั ะดะปั ัะตััะธัะพะฒะฐะฝะธั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััะตะน ะดะตะนััะฒะธะน
- `createMockContext` - ะคัะฝะบัะธั ะดะปั ัะพะทะดะฐะฝะธั ะผะพะบะธัะพะฒะฐะฝะฝะพะณะพ ะบะพะฝัะตะบััะฐ Telegraf
- `createMockAdapter` - ะคัะฝะบัะธั ะดะปั ัะพะทะดะฐะฝะธั ะผะพะบะธัะพะฒะฐะฝะฝะพะณะพ ะฐะดะฐะฟัะตัะฐ ััะฐะฝะธะปะธัะฐ
- `generateEnterHandlerTests` - ะคัะฝะบัะธั ะดะปั ะณะตะฝะตัะฐัะธะธ ัะตััะพะฒ ะพะฑัะฐะฑะพััะธะบะฐ ะฒัะพะดะฐ ะฒ ััะตะฝั
- `generateActionHandlerTests` - ะคัะฝะบัะธั ะดะปั ะณะตะฝะตัะฐัะธะธ ัะตััะพะฒ ะพะฑัะฐะฑะพััะธะบะพะฒ ะดะตะนััะฒะธะน
- `generateTextHandlerTests` - ะคัะฝะบัะธั ะดะปั ะณะตะฝะตัะฐัะธะธ ัะตััะพะฒ ะพะฑัะฐะฑะพััะธะบะพะฒ ัะตะบััะพะฒัั ัะพะพะฑัะตะฝะธะน

## ะกัััะบัััะฐ ะบะพะดะฐ

```
instagram-scraper-bot/
โโโ .dev/                    # ะะธัะตะบัะพัะธั ะดะปั ะปะพะบะฐะปัะฝะพะน ัะฐะทัะฐะฑะพัะบะธ (ัะพะทะดะฐะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ)
โ   โโโ sqlite.db            # SQLite ะฑะฐะทะฐ ะดะฐะฝะฝัั
โ   โโโ dev.log              # ะะพะณ-ัะฐะนะป ัะฐะทัะฐะฑะพัะบะธ
โโโ adapters/                # ะะดะฐะฟัะตัั ะดะปั ััะฐะฝะธะปะธั ะดะฐะฝะฝัั
โ   โโโ sqlite-adapter.ts    # SQLite ะฐะดะฐะฟัะตั ะดะปั ะปะพะบะฐะปัะฝะพะน ัะฐะทัะฐะฑะพัะบะธ
โ   โโโ ...
โโโ services/                # ะกะตัะฒะธัั ะดะปั ัะฐะฑะพัั ั ะฒะฝะตัะฝะธะผะธ API
โ   โโโ mock-apify-service.ts # ะะพะบ-ัะตัะฒะธั ะดะปั Apify API
โ   โโโ ...
โโโ scripts/                 # ะกะบัะธะฟัั ะดะปั ัะฐะทัะฐะฑะพัะบะธ ะธ ัะตััะธัะพะฒะฐะฝะธั
โ   โโโ build-and-test.sh    # ะกะบัะธะฟั ัะฑะพัะบะธ ะธ ัะตััะธัะพะฒะฐะฝะธั
โ   โโโ dev-dashboard.ts     # ะะฐะฝะตะปั ัะฐะทัะฐะฑะพััะธะบะฐ
โ   โโโ init-dev-db.ts       # ะะฝะธัะธะฐะปะธะทะฐัะธั ะฑะฐะทั ะดะฐะฝะฝัั
โ   โโโ test-integration.sh  # ะะฐะฟััะบ ะธะฝัะตะณัะฐัะธะพะฝะฝัั ัะตััะพะฒ
โโโ __tests__/               # ะขะตััั
โ   โโโ unit/                # ะะพะดัะปัะฝัะต ัะตััั
โ   โโโ integration/         # ะะฝัะตะณัะฐัะธะพะฝะฝัะต ัะตััั
โโโ types.ts                 # ะขะธะฟั ะดะฐะฝะฝัั
```

## ะัะปะฐะดะบะฐ

### ะะพะณะธัะพะฒะฐะฝะธะต

ะะพะดัะปั ะธัะฟะพะปัะทัะตั ะบะพะฝัะพะปัะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต ะดะปั ะพััะปะตะถะธะฒะฐะฝะธั ะฒะฐะถะฝัั ัะพะฑััะธะน. ะ ัะตะถะธะผะต ัะฐะทัะฐะฑะพัะบะธ ะปะพะณะธัะพะฒะฐะฝะธะต ะฑะพะปะตะต ะฟะพะดัะพะฑะฝะพะต:

```typescript
if (process.env.TEST_MODE === "true") {
  console.log("[DEBUG]", message)
}
```

### ะะธะฐะณะฝะพััะธะบะฐ ะฟัะพะฑะปะตะผ ั ะฑะฐะทะพะน ะดะฐะฝะฝัั

ะะปั ะพัะปะฐะดะบะธ SQLite ะฑะฐะทั ะดะฐะฝะฝัั ะผะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั SQLite ะฑัะฐัะทะตั ะธะปะธ ะฟัะพััะพ ะฒัะฒะตััะธ ัะพะดะตัะถะธะผะพะต ัะฐะฑะปะธั:

```bash
# ะัะพัะผะพัั ัะพะดะตัะถะธะผะพะณะพ ะฑะฐะทั ะดะฐะฝะฝัั
sqlite3 .dev/sqlite.db "SELECT * FROM Users;"
```

ะขะฐะบะถะต ะผะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั ัะบัะธะฟั ะดะปั ะดะธะฐะณะฝะพััะธะบะธ:

```typescript
// ะัะพัะผะพัั ัะพะดะตัะถะธะผะพะณะพ ัะฐะฑะปะธัั
db.all("SELECT * FROM Users").then(results => console.table(results))
```

### ะัะปะฐะดะบะฐ ะผะพะบ-ัะตัะฒะธัะพะฒ

ะะปั ะฟัะพะฒะตัะบะธ ัะฐะฑะพัั ะผะพะบ-ัะตัะฒะธัะพะฒ ะผะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั ะพัะดะตะปัะฝัะน ัะบัะธะฟั:

```typescript
import { MockApifyService } from "./services/mock-apify-service"

async function testMocks() {
  const service = new MockApifyService()
  const results = await service.getReelsByHashtag("ะบัะฐัะพัะฐ", {
    maxResults: 5,
    minViews: 50000,
  })

  console.log(JSON.stringify(results, null, 2))
}

testMocks().catch(console.error)
```

## ะงะฐััะพ ะฒะพะทะฝะธะบะฐััะธะต ะฟัะพะฑะปะตะผั

### ะัะพะฑะปะตะผะฐ: ะะต ัะดะฐะตััั ะฟะพะดะบะปััะธัััั ะบ ะฑะฐะทะต ะดะฐะฝะฝัั SQLite

**ะะตัะตะฝะธะต**: ะัะพะฒะตัััะต ะฟััั ะบ ัะฐะนะปั ะฑะฐะทั ะดะฐะฝะฝัั ะธ ัะฑะตะดะธัะตัั, ััะพ ะดะธัะตะบัะพัะธั `.dev` ัััะตััะฒัะตั:

```bash
mkdir -p .dev
```

### ะัะพะฑะปะตะผะฐ: TypeScript ะฝะต ะผะพะถะตั ะฝะฐะนัะธ ะผะพะดัะปะธ

**ะะตัะตะฝะธะต**: ะฃะฑะตะดะธัะตัั, ััะพ ะฒ tsconfig.json ะฟัะฐะฒะธะปัะฝะพ ะฝะฐัััะพะตะฝั ะฟััะธ:

```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./*"]
    }
  }
}
```

### ะัะพะฑะปะตะผะฐ: ะัะธะฑะบะธ ะฟัะธ ะทะฐะฟััะบะต ัะตััะพะฒ

**ะะตัะตะฝะธะต**: ะะพะทะผะพะถะฝะพ, ะฝะต ัััะฐะฝะพะฒะปะตะฝั ะฒัะต ะทะฐะฒะธัะธะผะพััะธ:

```bash
bun install vitest @types/node
```

ะะปะธ ะฝะต ะฝะฐัััะพะตะฝั ะฟัะฐะฒะธะปัะฝะพ ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั:

```bash
export TEST_MODE=true
export NEON_DATABASE_URL=sqlite:///.dev/sqlite.db
```

### ะัะพะฑะปะตะผะฐ: ะัะธะฑะบะฐ ัะธะฟะพะฒ ะฒ SQLite ะฐะดะฐะฟัะตัะต

**ะะตัะตะฝะธะต**: ะัะพะฒะตัััะต ัะธะฟั ะฟะฐัะฐะผะตััะพะฒ ะฒ ะผะตัะพะดะต saveReel:

```typescript
// ะะปั ัะตัะตะฝะธั ะพัะธะฑะบะธ ัะธะฟะธะทะฐัะธะธ ะฟัะธ ะฒัะทะพะฒะต query.run ั ะฟะฐัะฐะผะตััะฐะผะธ
const params: any[] = [
  reel.project_id,
  reel.source_type,
  // ะดััะณะธะต ะฟะฐัะฐะผะตััั
]
const result = query.run(...params)
```

## ๐ ะะฝัะตะณัะฐัะธะธ ะธ ะทะฐะฒะธัะธะผะพััะธ

- **Bun:** ะกัะตะดะฐ ะฒัะฟะพะปะฝะตะฝะธั JavaScript/TypeScript
- **SQLite:** ะะพะบะฐะปัะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั ะดะปั ัะฐะทัะฐะฑะพัะบะธ
- **PostgreSQL (Neon DB):** ะัะพะดะฐะบัะฝ ะฑะฐะทะฐ ะดะฐะฝะฝัั
- **Apify API:** ะะฐััะธะฝะณ ะดะฐะฝะฝัั ะธะท Instagram
- **Telegraf:** ะคัะตะนะผะฒะพัะบ ะดะปั Telegram Bot API

## ๐ ะกัะตะผะฐ ะฑะฐะทั ะดะฐะฝะฝัั

ะัะฝะพะฒะฝัะต ัะฐะฑะปะธัั:

- `Users` - ะะพะปัะทะพะฒะฐัะตะปะธ ะฑะพัะฐ
- `Projects` - ะัะพะตะบัั ะผะพะฝะธัะพัะธะฝะณะฐ
- `Competitors` - ะะบะบะฐัะฝัั ะบะพะฝะบััะตะฝัะพะฒ ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ
- `Hashtags` - ะฅัััะตะณะธ ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ
- `ReelsContent` - ะกะพััะฐะฝะตะฝะฝัะน ะบะพะฝัะตะฝั ะธะท Instagram Reels
