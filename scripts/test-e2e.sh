#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ E2E —Ç–µ—Å—Ç–æ–≤
# –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Ç–µ—Å—Ç—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ src/__tests__/e2e

echo "üß™ –ó–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–æ–≤..."

# –ó–∞–ø—É—Å–∫–∞–µ–º E2E —Ç–µ—Å—Ç—ã
bun test 'src/__tests__/e2e' --no-cache

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
if [ $? -eq 0 ]; then
  echo "‚úÖ –í—Å–µ E2E —Ç–µ—Å—Ç—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–π–¥–µ–Ω—ã!"
else
  echo "‚ùå –ù–µ–∫–æ—Ç–æ—Ä—ã–µ E2E —Ç–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ–π–¥–µ–Ω—ã."
  exit 1
fi
