# üé§ Voice Framework Setup Guide

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –¥–ª—è –ø–∞–¥–ª-—Ü–µ–Ω—Ç—Ä–∞.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
bash scripts/test-voice-mcp.sh

# –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø—ã –æ—Ç–¥–µ–ª—å–Ω–æ
bun run typecheck
```

### 2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Claude Desktop

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é MCP:**
   ```json
   {
     "mcpServers": {
       "padle-voice-server": {
         "command": "bun",
         "args": ["run", "src/mcp-voice-server/src/index.ts"],
         "cwd": "/Users/playra/padle-world-club",
         "env": {
           "NODE_ENV": "development"
         }
       }
     }
   }
   ```

2. **–î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Claude Desktop:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ Claude Desktop
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí MCP Servers
   - –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ `mcp-config.json`
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Claude Desktop

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π

–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ Claude Desktop –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

#### üèì ping - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
```json
{
  "message": "Hello from Claude!"
}
```

#### üß† parse_voice_command - –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–º–∞–Ω–¥
```json
{
  "text": "–ó–∞–±—Ä–æ–Ω–∏—Ä—É–π –∫–æ—Ä—Ç –Ω–∞ –∑–∞–≤—Ç—Ä–∞ –≤ 14:00",
  "language": "ru-RU"
}
```

#### üé§ voice_booking - –ì–æ–ª–æ—Å–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
```json
{
  "text": "–ó–∞–±—Ä–æ–Ω–∏—Ä—É–π –∫–æ—Ä—Ç –Ω–∞ –∑–∞–≤—Ç—Ä–∞ –≤ 14:00",
  "userId": "user-123",
  "sessionId": "session-456",
  "language": "ru-RU"
}
```

#### üß™ self_test - –°–∞–º–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```json
{
  "testType": "full_cycle",
  "testData": "–ó–∞–±—Ä–æ–Ω–∏—Ä—É–π –∫–æ—Ä—Ç –Ω–∞ –∑–∞–≤—Ç—Ä–∞ –≤ 14:00"
}
```

## üéØ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—Ä—Ç–æ–≤
- "–ó–∞–±—Ä–æ–Ω–∏—Ä—É–π –∫–æ—Ä—Ç –Ω–∞ –∑–∞–≤—Ç—Ä–∞ –≤ 14:00"
- "Book a court for tomorrow at 2 PM"
- "‡∏à‡∏≠‡∏á‡∏Ñ‡∏≠‡∏£‡πå‡∏ï‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏ß‡∏•‡∏≤ 14:00"

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- "–ü–æ–∫–∞–∂–∏ —Å–≤–æ–±–æ–¥–Ω—ã–µ –∫–æ—Ä—Ç—ã –Ω–∞ —Å–µ–≥–æ–¥–Ω—è"
- "Show available courts today"
- "‡∏î‡∏π‡∏Ñ‡∏≠‡∏£‡πå‡∏ï‡∏ß‡πà‡∏≤‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ"

### –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- "–û—Ç–º–µ–Ω–∏ –º–æ—é –±—Ä–æ–Ω—å –Ω–∞ –∑–∞–≤—Ç—Ä–∞"
- "Cancel my booking for tomorrow"
- "‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ"

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Voice Framework/
‚îú‚îÄ‚îÄ src/mcp-voice-server/          # MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è Claude
‚îÇ   ‚îú‚îÄ‚îÄ src/index.ts               # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä (4 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞)
‚îÇ   ‚îú‚îÄ‚îÄ package.json               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json              # TypeScript –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ src/services/
‚îÇ   ‚îú‚îÄ‚îÄ voice-ai.ts                # –ë–∞–∑–æ–≤—ã–π AI —Å–µ—Ä–≤–∏—Å (mock)
‚îÇ   ‚îî‚îÄ‚îÄ booking-service.ts         # –†–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API
‚îú‚îÄ‚îÄ src/__tests__/                 # Comprehensive —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ mcp-config.json                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Claude
‚îú‚îÄ‚îÄ scripts/test-voice-mcp.sh      # –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ VOICE_FRAMEWORK_README.md      # –û–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ VOICE_ROADMAP.md               # –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã
```bash
# MCP Voice Server
bun test src/__tests__/unit/mcp-voice-server/basic-server.test.ts

# BookingService
bun test src/__tests__/unit/services/booking-service.test.ts

# Voice AI
bun test src/__tests__/unit/services/voice-ai.test.ts
```

### –°–∞–º–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ MCP
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `self_test` –≤ Claude Desktop:
- `ping` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- `parse_command` - —Ç–µ—Å—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞
- `voice_booking` - —Ç–µ—Å—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `full_cycle` - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: MCP —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –≤ `mcp-config.json`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Bun —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ TypeScript
```bash
bun run typecheck
```

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç
```bash
bash scripts/test-voice-mcp.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ì–æ–ª–æ—Å–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `self_test` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ MCP —Å–µ—Ä–≤–µ—Ä–∞
–õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ stderr Claude Desktop:
- `üìù Voice Booking: userId - command - success`
- `üöÄ MCP Voice Server is running!`
- `üìã Available tools: ping, parse_voice_command, voice_booking, self_test`

### –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `self_test` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
- `responseTime` - –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –≤ –º—Å
- `timestamp` - –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `success` - —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### Step 1.2: –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- –£–º–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å–ª–æ—Ç–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É –∫–æ—Ä—Ç–∞ –∏ —Ü–µ–Ω–µ
- Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### Step 2: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ì–æ–ª–æ—Å–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –¢–æ–∫–µ–Ω-based –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–π

### Step 3: –†–µ–∞–ª—å–Ω—ã–µ AI —Å–µ—Ä–≤–∏—Å—ã
- OpenAI Whisper –¥–ª—è STT
- ElevenLabs –¥–ª—è TTS
- GPT-4 –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ NLU

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `bash scripts/test-voice-mcp.sh`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Claude Desktop
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `self_test` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ `VOICE_FRAMEWORK_README.md`

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–ì–æ–ª–æ—Å–æ–≤–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –ù–∞—á–Ω–∏—Ç–µ —Å –∫–æ–º–∞–Ω–¥—ã "–ó–∞–±—Ä–æ–Ω–∏—Ä—É–π –∫–æ—Ä—Ç –Ω–∞ –∑–∞–≤—Ç—Ä–∞ –≤ 14:00" –≤ Claude Desktop!
