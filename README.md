# Telegram Bot Starter Kit

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Telegram –±–æ—Ç–æ–≤ –Ω–∞ TypeScript —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∏ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫.

## üåü –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üß© **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥**: –ß–∏—Å—Ç—ã–π, –º–æ–¥—É–ª—å–Ω—ã–π –∏ –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–¥.
- üìã **–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ TypeScript –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
- üîÑ **Wizard-—Å—Ü–µ–Ω—ã**: –ì–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ (`src/templates/wizard-scene-template.ts`).
- üíæ **–ê–¥–∞–ø—Ç–µ—Ä—ã —Ö—Ä–∞–Ω–∏–ª–∏—â–∞**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `StorageAdapter` (`src/adapters/storage-adapter.ts`) —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π `MemoryAdapter` (`src/adapters/memory-adapter.ts`) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –¥–ª—è –¥—Ä—É–≥–∏—Ö –ë–î.
- üóÑÔ∏è **Drizzle ORM –∏ Neon**: –ì–æ—Ç–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Drizzle ORM (`src/db/`) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è Neon serverless –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö. –í–∫–ª—é—á–∞–µ—Ç –ø—Ä–∏–º–µ—Ä —Å—Ö–µ–º—ã (`src/db/schema.ts`) –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –º–∏–≥—Ä–∞—Ü–∏–π (`drizzle.config.ts`).
- üöÄ **Apollo Client**: –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Apollo Client (`src/graphql/client.ts`) –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å GraphQL API.
- üß™ **–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è unit, integration –∏ e2e —Ç–µ—Å—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Vitest (`vitest.config.ts`). –ü—Ä–∏–º–µ—Ä—ã –∏ –º–æ–∫–∏ –≤ `src/__tests__/`.
- üìù **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (`src/utils/logger.ts`) —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ –∏ —Ç–∏–ø–∞–º–∏ –ª–æ–≥–æ–≤.
- üåê **Middleware**: –ì–æ—Ç–æ–≤—ã–µ middleware –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ (`src/middlewares/error-handler.ts`) –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏.
- üîç **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é Zod (–ø—Ä–∏–º–µ—Ä—ã –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Å—Ö–µ–º–∞—Ö –∏ —à–∞–±–ª–æ–Ω–∞—Ö).
- üöÄ **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**: –ú–∏–Ω–∏–º—É–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã. `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
- üõ†Ô∏è **Bun & Node.js**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–∫ Bun, —Ç–∞–∫ –∏ Node.js –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**

    ```bash
    git clone https://github.com/yourusername/telegram-bot-starter-kit.git
    cd telegram-bot-starter-kit
    ```

2.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

    ```bash
    bun install
    # –∏–ª–∏
    npm install
    ```

    _–í–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω `.env` —Ñ–∞–π–ª –∏–∑ `example.env`._

3.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env` —Ñ–∞–π–ª:**
    –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π `.env` —Ñ–∞–π–ª –∏ —É–∫–∞–∂–∏—Ç–µ –∫–∞–∫ –º–∏–Ω–∏–º—É–º –≤–∞—à `BOT_TOKEN`:

    ```env
    BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞_–æ—Ç_BotFather"
    # –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ DATABASE_URL –¥–ª—è Neon –∏ GRAPHQL_ENDPOINT
    ```

4.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**

    ```bash
    bun run dev
    ```

    _–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `bun run --watch index.ts` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö._

    –î–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏:

    ```bash
    bun run dev:fast
    ```

## ü§ñ –î–ª—è –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤

–≠—Ç–æ—Ç —Å—Ç–∞—Ä—Ç–µ—Ä-–∫–∏—Ç —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–º–∏ AI-–∞–≥–µ–Ω—Ç–∞–º–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `.cursor/rules/`:**

- **`.cursor/rules/README.md`**: –ì–ª–∞–≤–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, —Å—Ç–µ–∫–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π, –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ–ª–µ–∑–Ω—ã—Ö –∫–æ–º–∞–Ω–¥. **–ù–∞—á–Ω–∏—Ç–µ –æ—Ç—Å—é–¥–∞!**
- **`.cursor/rules/AGENT_Coder.mdc`**: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∞–≥–µ–Ω—Ç–∞, –æ—Ç–≤–µ—á–∞—é—â–µ–≥–æ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞.
- **`.cursor/rules/AGENT_Tester.mdc`**: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∞–≥–µ–Ω—Ç–∞, –æ—Ç–≤–µ—á–∞—é—â–µ–≥–æ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤.
- **`.cursor/rules/current_task.mdc`**: –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–π –∑–∞–¥–∞—á–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤:**

1.  **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `src/config.ts` –∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ `.env` —Ñ–∞–π–ª–∞.
2.  **–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞**: –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `index.ts`.
3.  **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**:
    - –°—Ö–µ–º–∞: `src/db/schema.ts`
    - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ —É—Ç–∏–ª–∏—Ç—ã: `src/db/index.ts`
    - –ú–∏–≥—Ä–∞—Ü–∏–∏: `drizzle_migrations/` (—É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `drizzle-kit`)
4.  **GraphQL**:
    - –ö–ª–∏–µ–Ω—Ç: `src/graphql/client.ts`
5.  **–ö–æ–º–∞–Ω–¥—ã –∏ —Å—Ü–µ–Ω—ã**:
    - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥: `src/commands.ts`
    - –®–∞–±–ª–æ–Ω—ã –¥–ª—è Wizard-—Å—Ü–µ–Ω: `src/templates/wizard-scene-template.ts`
6.  **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
    - –í—Å–µ —Ç–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `src/__tests__/`
    - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `bun run test` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤.
    - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `bun run tdd <–ø—É—Ç—å_–∫_—Ç–µ—Å—Ç—É>` –¥–ª—è TDD-—Ü–∏–∫–ª–∞.
7.  **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ `bun run typecheck` –ø–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
telegram-bot-starter-kit/
‚îú‚îÄ‚îÄ .cursor/rules/         # –ü—Ä–∞–≤–∏–ª–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ docs/                  # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (TESTING.md, PATTERNS.md, MIGRATION.md)
‚îú‚îÄ‚îÄ drizzle_migrations/    # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ Drizzle
‚îú‚îÄ‚îÄ example.env            # –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ scripts/               # –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ü–µ–Ω, TDD-—Ü–∏–∫–ª)
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ adapters/          # –ê–¥–∞–ø—Ç–µ—Ä—ã —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (Storage Adapters)
‚îÇ   ‚îú‚îÄ‚îÄ db/                # Drizzle ORM: —Å—Ö–µ–º—ã, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ graphql/           # Apollo Client: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, –∑–∞–ø—Ä–æ—Å—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
‚îÇ   ‚îú‚îÄ‚îÄ middlewares/       # Middleware –¥–ª—è Telegraf (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ scenes/            # –õ–æ–≥–∏–∫–∞ —Å—Ü–µ–Ω (–µ—Å–ª–∏ –≤—ã–Ω–µ—Å–µ–Ω—ã –∏–∑ —à–∞–±–ª–æ–Ω–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ templates/         # –®–∞–±–ª–æ–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, wizard-scene-template.ts)
‚îÇ   ‚îú‚îÄ‚îÄ utils/             # –£—Ç–∏–ª–∏—Ç—ã (logger, validation, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ __tests__/         # –¢–µ—Å—Ç—ã (unit, integration, e2e)
‚îÇ   ‚îú‚îÄ‚îÄ commands.ts        # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.ts          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ types.ts           # –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã TypeScript
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ README.md              # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ bun.lockb
‚îú‚îÄ‚îÄ drizzle.config.ts      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Drizzle Kit –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ index.ts               # –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —ç–∫—Å–ø–æ—Ä—Ç—ã –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îú‚îÄ‚îÄ package.json           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ tsconfig.json          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ TypeScript
‚îî‚îÄ‚îÄ vitest.config.ts       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Vitest –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

## üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- `bun run dev`: –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å `--watch`.
- `bun run dev:fast`: –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ `--watch`.
- `bun run build`: –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (JavaScript –±–∞–Ω–¥–ª—ã).
- `bun run build:types`: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–π —Ç–∏–ø–æ–≤ (`.d.ts`).
- `bun run build:full`: –ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞ (JavaScript + —Ç–∏–ø—ã).
- `bun run start`: –ó–∞–ø—É—Å–∫ —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (production).
- `bun run typecheck`: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ TypeScript.
- `bun run lint`: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ ESLint.
- `bun run test`: –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ Vitest.
- `bun run test:watch`: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ —Ä–µ–∂–∏–º–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è.
- `bun run test:coverage`: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ—Ç—á–µ—Ç–∞ –æ –ø–æ–∫—Ä—ã—Ç–∏–∏.
- `bun run test:ui`: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å UI Vitest.
- `bun run generate:scene`: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–π wizard-—Å—Ü–µ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–∞.
- `bun run tdd <–ø—É—Ç—å_–∫_—Ñ–∞–π–ª—É_—Ç–µ—Å—Ç–∞>`: –ó–∞–ø—É—Å–∫ TDD-—Ü–∏–∫–ª–∞ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞.
- `bun prepare`: –°–∫—Ä–∏–ø—Ç, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–π –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –ø–∞–∫–µ—Ç–∞ (–æ–±—ã—á–Ω–æ –ø–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞).

### Drizzle ORM –∫–æ–º–∞–Ω–¥—ã

- `bunx drizzle-kit generate`: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SQL –º–∏–≥—Ä–∞—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `src/db/schema.ts`.
- `bunx drizzle-kit migrate`: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
- `bunx drizzle-kit studio`: –ó–∞–ø—É—Å–∫ Drizzle Studio –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. (–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `DATABASE_URL` –¥–æ—Å—Ç—É–ø–µ–Ω)

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–æ—Ç

```typescript
// index.ts (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
import { Telegraf } from "telegraf";
import { config } from "./src/config";
import { logger, LogType } from "./src/utils/logger";

// –≠—Ç–æ—Ç –±–ª–æ–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ index.ts –∑–∞–ø—É—â–µ–Ω –Ω–∞–ø—Ä—è–º—É—é
if (import.meta.main || process.argv[1]?.endsWith("index.ts")) {
  const bot = new Telegraf(config.BOT_TOKEN);

  bot.start((ctx) =>
    ctx.reply("–ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ Telegram Bot Starter Kit.")
  );

  bot.help((ctx) => ctx.reply("–°–ø—Ä–∞–≤–∫–∞ –æ –∫–æ–º–∞–Ω–¥–∞—Ö –±–æ—Ç–∞."));

  bot
    .launch()
    .then(() => logger.info("–ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω", { type: LogType.SYSTEM }))
    .catch((err) =>
      logger.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞", {
        error: err instanceof Error ? err : new Error(String(err)),
        type: LogType.ERROR,
      })
    );

  process.once("SIGINT", () => bot.stop("SIGINT"));
  process.once("SIGTERM", () => bot.stop("SIGTERM"));
}
```

### –ë–æ—Ç —Å Wizard-—Å—Ü–µ–Ω–æ–π –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º

–°–º. –ø–æ–ª–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤ `index.ts`, –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç:

- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é `MemoryAdapter`.
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é `errorHandler`.
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é `exampleScene` –∏–∑ `wizard-scene-template.ts`.
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∫–æ–º–∞–Ω–¥ —á–µ—Ä–µ–∑ `setupCommands`.

## üóÑÔ∏è –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (Drizzle + Neon)

Starter Kit –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Drizzle ORM –∏ Neon PostgreSQL.

**1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ö–µ–º—ã:**
–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –≤–∞—à–∏ —Ç–∞–±–ª–∏—Ü—ã –≤ `src/db/schema.ts`.

**2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
–§–∞–π–ª `src/db/index.ts` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É—è `DATABASE_URL` –∏–∑ `.env`.

**3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π:**

- –ò–∑–º–µ–Ω–∏—Ç–µ `src/db/schema.ts`.
- –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é: `bunx drizzle-kit generate`
- –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é: `bunx drizzle-kit migrate`

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ:**

```typescript
import { db } from "./src/db"; // Drizzle –∏–Ω—Å—Ç–∞–Ω—Å
import { users } from "./src/db/schema"; // –í–∞—à–∞ —Ç–∞–±–ª–∏—Ü–∞
import { eq } from "drizzle-orm";

async function getUser(telegramId: string) {
  if (!db) {
    console.warn("DB not initialized, returning null");
    return null;
  }
  return await db.query.users.findFirst({
    where: eq(users.telegram_id, telegramId),
  });
}
```

## üîó –†–∞–±–æ—Ç–∞ —Å GraphQL (Apollo Client)

–î–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å GraphQL API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Apollo Client.

**1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞:**
–§–∞–π–ª `src/graphql/client.ts` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç Apollo Client, –∏—Å–ø–æ–ª—å–∑—É—è `GRAPHQL_ENDPOINT` –∏–∑ `.env`.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ:**

```typescript
import { gql } from "@apollo/client";
import { apolloClient } from "./src/graphql/client"; // Apollo Client –∏–Ω—Å—Ç–∞–Ω—Å

const GET_SOME_DATA = gql`
  query GetSomeData($id: ID!) {
    someData(id: $id) {
      id
      field
    }
  }
`;

async function fetchData(id: string) {
  if (!apolloClient) {
    console.warn("Apollo Client not initialized, returning null");
    return null;
  }
  const { data } = await apolloClient.query({
    query: GET_SOME_DATA,
    variables: { id },
  });
  return data;
}
```

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **`/docs/TESTING.md`**: –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é (unit, integration, e2e) —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏.
- **`/docs/PATTERNS.md`**: –û–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫.
- **`/docs/MIGRATION.md`**: –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏–π (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ).

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
